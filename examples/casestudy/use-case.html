<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../lib/libraries/hydrolang/external/css/hydrolang.css" />
    <script type="module" src="../lib/main.js"></script>
    <title>Use Case: Data integration</title>
  </head>

  <body>
    <div id="hydrolang">
      <!-- The following is the development of a simple case study to retrieve data from NOAA, visualize it, clean and transform, render to screen-->
      <!-- And finally download the cleaned data to local storage. It uses the data, analyze, and visualize modules.-->
      <hydrolang-ml>
        <!-- See all stations that fall under the tempoeral resolution required for the analysis.-->
        <data-mod method="retrieve">
          <parameters
            source="noaa"
            datatype="availablestations"
            output="johnson_stations"
            token="gNUkMgFHFSYVWyNoabuUfuVhCTJkRvRq"
          ></parameters>
          <arguments
            locationid="FIPS:19103"
            startdate="2008-06-01"
            enddate="2008-06-30"
            limit="100"
          ></arguments>
        </data-mod>

        <!-- View the data recently downloaded.-->
        <visualize-mod method="draw">
          <parameters type="json" input="all"></parameters>
        </visualize-mod>

        <!-- Download data from a specific source during the dates of the event.-->
        <data-mod method="retrieve">
          <parameters
            source="noaa"
            datatype="prec-15min"
            output="iowacity_station"
            token="gNUkMgFHFSYVWyNoabuUfuVhCTJkRvRq"
          ></parameters>
          <arguments
            stationid="COOP:134101"
            startdate="2008-06-01"
            enddate="2008-06-30"
            limit="1000"
          ></arguments>
        </data-mod>

        <!-- Transform the object saved for the source, leaving only the data required.-->
        <data-mod method="transform">
          <parameters
            input="iowacity_station"
            save="results"
            output="cleaned_iowacity_station"
          ></parameters>
          <arguments type="ARR" keep='["date", "value"]'></arguments>
        </data-mod>

        <!-- Draw chart into screen using the cleaned variable.-->
        <visualize-mod method="draw">
          <parameters
            type="chart"
            input="cleaned_iowacity_station"
            name="rainfall_iowacity2008"
          ></parameters>
          <arguments charttype="column"></arguments>
        </visualize-mod>

        <!-- Download the retrieved data into the computer's storage (downloads folder).-->
        <data-mod method="download">
          <parameters input="cleaned_iowacity_station"></parameters>
          <arguments type="CSV"></arguments>
        </data-mod>
      </hydrolang-ml>
    </div>
  </body>
</html>
